@use 'sass:map';
@use 'pkg:@material/web/tokens/md-comp-navigation-drawer';
@use 'pkg:@material/web/tokens/md-comp-outlined-button';
@use 'pkg:@material/web/tokens/md-sys-shape';

@use '../tokens';
@use '../utils';

$_md-comp-outlined-button: md-comp-outlined-button.values();
$_md-sys-shape: md-sys-shape.values();

@mixin styles() {
  $tokens: md-comp-navigation-drawer.values();

  &.is-mobile {
    $background-color: map.get($tokens, 'modal-container-color');

    .workspace-drawer {
      // TODO: Set border-radius using comp tokens
      $shape: map.get($_md-sys-shape, 'corner-large-end');
      @include utils.shape-define-border-radius($shape);

      background-color: $background-color;
    }

    .workspace-drawer-inner {
      background-color: $background-color;
    }

    .workspace-drawer-header .clickable-icon {
      color: map.get($tokens, 'inactive-icon-color');
      height: 48px;
      padding: unset;
      width: 48px;
    }

    .workspace-drawer-active-tab-container {
      background-color: $background-color;

      .nav-header {
        align-content: center;
        background-color: var(--md-sys-color-surface-container-high);
        border: unset;
        min-height: calc(var(--safe-area-inset-bottom) + 64px);
        padding-block: 0 var(--safe-area-inset-bottom);
      }

      .nav-buttons-container {
        padding-inline: 16px;

        .clickable-icon {
          color: map.get($tokens, 'inactive-icon-color');
          height: 48px;
          padding: unset;
          max-width: 48px;
        }
      }
    }

    .workspace-drawer-active-tab-header {
      background-color: transparent;
      border: map.get($_md-comp-outlined-button, 'outline-width') solid
        map.get($_md-comp-outlined-button, 'outline-color');
      border-radius: map.get($_md-comp-outlined-button, 'container-shape');
      color: var(--md-sys-color-primary);
      padding-inline: {
        start: map.get(
          $_md-comp-outlined-button,
          'with-trailing-icon-leading-space'
        );
        end: map.get(
          $_md-comp-outlined-button,
          'with-trailing-icon-trailing-space'
        );
      }
      height: map.get($_md-comp-outlined-button, 'container-height');

      .workspace-drawer-active-tab-title {
        color: map.get($_md-comp-outlined-button, 'label-text-color');
        font-family: map.get($_md-comp-outlined-button, 'label-text-font');
        font-size: map.get($_md-comp-outlined-button, 'label-text-size');
        font-weight: map.get($_md-comp-outlined-button, 'label-text-weight');
        line-height: map.get(
          $_md-comp-outlined-button,
          'label-text-line-height'
        );
      }

      .clickable-icon {
        $size: map.get($_md-comp-outlined-button, 'icon-size');

        color: map.get($_md-comp-outlined-button, 'icon-color');
        height: $size;
        padding: unset;
        width: $size;
      }
    }
  }
}
